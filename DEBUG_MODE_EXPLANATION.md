# 调试模式说明

## 什么是调试模式？

调试模式是PDF书签生成器的一个功能，当启用时，它会在控制台（终端）中显示详细的执行信息，帮助用户排查问题和了解程序运行过程。

## 调试模式的作用

### 1. 显示PDF文件信息
- 文件路径
- 文件大小
- 文件存在性检查
- 文件读取权限

### 2. 显示书签处理信息
- 解析的书签数量
- 生成的pdfmarks内容
- 页码偏移计算过程

### 3. 显示Ghostscript执行信息
- 执行的完整命令
- 工作目录
- 输入输出文件路径
- 临时文件信息

### 4. 显示错误详情
- 详细的错误信息
- 命令执行结果
- 文件操作状态

## 如何使用调试模式

### 启用调试模式
1. 在应用界面中找到"🐛 调试模式"复选框
2. 勾选该复选框
3. 执行生成书签操作

### 查看调试信息
- **开发环境**: 调试信息会显示在运行Python脚本的终端中
- **打包后的应用**: 调试信息会显示在应用启动的终端中

## 何时使用调试模式

### 建议启用调试模式的情况：
1. **首次使用**: 了解程序运行过程
2. **遇到错误**: 获取详细的错误信息
3. **配置问题**: 检查Ghostscript路径和配置
4. **文件问题**: 排查PDF文件或输出目录问题

### 正常使用时：
- 可以关闭调试模式以提高性能
- 减少控制台输出

## 调试信息示例

```
PDF文件信息:
  路径: /path/to/document.pdf
  大小: 2048576 字节
  存在: True
  可读: True

生成的pdfmarks内容:
%!PS
[ /Title (PREFACE) /Page 4 /OUT pdfmark
[ /Title (Chapter I. INTRODUCTION) /Page 0 /OUT pdfmark

书签数量: 2

输出文件信息:
  路径: /path/to/document_with_bookmarks.pdf
  目录: /path/to
  目录可写: True
  输出文件已存在: False

执行命令: gs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -sOutputFile=...
工作目录: /current/working/directory
```

## 注意事项

1. **性能影响**: 启用调试模式会略微影响性能，因为需要额外的输出处理
2. **信息量**: 调试信息可能较多，建议在需要时启用
3. **错误排查**: 如果遇到问题，调试模式提供的信息对解决问题非常有帮助

## 技术支持

如果在使用调试模式时遇到问题，请：
1. 保存调试输出信息
2. 记录错误发生的具体步骤
3. 将调试信息提供给技术支持人员
